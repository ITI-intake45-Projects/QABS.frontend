<!-- <div class="h-screen bg-gray-800 text-white flex flex-col transition-all duration-300"
  [ngClass]="collapsed ? 'w-16' : 'w-64'">

  <!-- Header --
  <div class="flex items-center justify-between p-4">
    <h2 *ngIf="!collapsed" class="text-lg font-bold">Menu</h2>
    <button (click)="toggleSidebar()" class="p-2">
      <span *ngIf="collapsed">➡️</span>
      <span *ngIf="!collapsed">⬅️</span>
    </button>
  </div>

  <!-- Items --
  <ul class="flex-1">
    <li *ngFor="let item of items" class="p-2 hover:bg-gray-700 cursor-pointer">
      <a [routerLink]="item.route" class="flex items-center gap-2">
        <span *ngIf="item.icon" [innerHTML]="getIcon(item.icon)"></span>
        <span *ngIf="!collapsed">{{ item.label }}</span>
      </a>

      <!-- Children (Sub-menu) --
      <ul *ngIf="item.children && !collapsed" class="ml-6 mt-1">
        <li *ngFor="let child of item.children" class="p-1 hover:bg-gray-600">
          <a [routerLink]="child.route">{{ child.label }}</a>
        </li>
      </ul>
    </li>
  </ul>
</div> -->


<div class="h-screen bg-[var(--green-primary)] text-[var(--gray-light)] flex flex-col transition-all duration-300"
     [ngClass]="collapsed ? 'w-16' : 'w-64'">

  <!-- Header -->
  <div class="flex items-center justify-between p-4 border-b border-[var(--green-dark)]">
    <h2 *ngIf="!collapsed" class="text-lg font-bold text-[var(--gold-primary)]">Menu</h2>
    <button (click)="toggleSidebar()" class="p-2 hover:bg-[var(--green-dark)] rounded-lg">
      <span *ngIf="collapsed">➡️</span>
      <span *ngIf="!collapsed">⬅️</span>
    </button>
  </div>

  <!-- Items -->
  <ul class="flex-1">
    <li *ngFor="let item of items" class="p-2 hover:bg-[var(--green-secondary)] cursor-pointer rounded-md">

      <!-- Parent Link -->
      <div (click)="toggleItem(item)" class="flex items-center justify-between">
        <a [routerLink]="item.route || null"
           class="flex items-center gap-2 flex-1">
          <span *ngIf="item.icon" [innerHTML]="getIcon(item.icon)"></span>
          <span *ngIf="!collapsed">{{ item.label }}</span>
        </a>

        <!-- Caret if has children -->
        <span *ngIf="item.children && !collapsed" class="ml-2">
          <span *ngIf="!item.open">  <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                     <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                  </svg>
                </span>
          <span *ngIf="item.open">  <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                     <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                  </svg>
                </span>
        </span>
      </div>

      <!-- Children (Dropdown) -->
      <ul *ngIf="item.children && item.open && !collapsed" class="ml-6 mt-1 border-l border-[var(--green-dark)]">
        <li *ngFor="let child of item.children" class="p-2 hover:bg-[var(--green-dark)] rounded-md">
          <a [routerLink]="child.route" class="flex items-center gap-2">
            <span class="text-[var(--gold-secondary)]">•</span>
            {{ child.label }}
          </a>
        </li>
      </ul>
    </li>
  </ul>
</div>
